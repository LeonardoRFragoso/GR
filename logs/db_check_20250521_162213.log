2025-05-21 16:22:13,878 - db_checker - INFO - Verificando banco de dados: usuarios.db
2025-05-21 16:22:13,878 - db_checker - INFO - Tabelas encontradas: ['usuarios', 'sqlite_sequence', 'historico', 'solicitacoes_senha', 'admin_logs', 'solicitacoes_registro', 'registros', 'solicitacoes_acesso', 'log_atividades', 'sessoes_ativas', 'logs']
2025-05-21 16:22:13,878 - db_checker - INFO - Verificando estrutura da tabela: usuarios
2025-05-21 16:22:13,878 - db_checker - INFO - Colunas da tabela usuarios: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'password_hash', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'nivel', 'type': 'TEXT', 'notnull': 0, 'default': "'comum'", 'pk': 0}, {'cid': 4, 'name': 'email', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'last_login', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'created_at', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 7, 'name': 'senha_temporaria', 'type': 'INTEGER', 'notnull': 0, 'default': '0', 'pk': 0}, {'cid': 8, 'name': 'ultima_alteracao_senha', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:13,884 - db_checker - INFO - Total de registros na tabela usuarios: 8
2025-05-21 16:22:13,884 - db_checker - INFO - Exemplo 1 da tabela usuarios: {'id': 1, 'username': 'admin', 'password_hash': 'pbkdf2:sha256:600000$Mv4xefmkye9Z9yc5$7eaeefb45f65c5182973ad7e7d564a447b3047d835c73babc5f121d43c0753a2', 'nivel': 'admin', 'email': None, 'last_login': None, 'created_at': '2025-05-15 19:18:00', 'senha_temporaria': 0, 'ultima_alteracao_senha': None}
2025-05-21 16:22:13,884 - db_checker - INFO - Exemplo 2 da tabela usuarios: {'id': 2, 'username': 'gr', 'password_hash': 'pbkdf2:sha256:600000$k6rwTqa1n8n80FrH$ecff02829c009a832e7776a97366eca843cc3b8dce03750aefda163d03d076be', 'nivel': 'gr', 'email': None, 'last_login': '2025-05-19 17:51:34', 'created_at': '2025-05-15 19:18:00', 'senha_temporaria': 0, 'ultima_alteracao_senha': None}
2025-05-21 16:22:13,884 - db_checker - INFO - Exemplo 3 da tabela usuarios: {'id': 4, 'username': 'Leonardo', 'password_hash': 'scrypt:32768:8:1$7disBdA1D4cktlZ7$212b6a60bace1f8c5c92668c133a8434864eccb91c07f4e735d201480b27276a1dda39ee4b4a37a51f4f03a7ee91134440b9bec6ecef66254e3b771894c690cb', 'nivel': 'admin', 'email': 'leonardo@example.com', 'last_login': '2025-05-19 17:51:55', 'created_at': '2025-05-15 19:35:45', 'senha_temporaria': 0, 'ultima_alteracao_senha': None}
2025-05-21 16:22:13,884 - db_checker - INFO - Verificando estrutura da tabela: sqlite_sequence
2025-05-21 16:22:13,886 - db_checker - INFO - Colunas da tabela sqlite_sequence: [{'cid': 0, 'name': 'name', 'type': '', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 1, 'name': 'seq', 'type': '', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:13,886 - db_checker - INFO - Total de registros na tabela sqlite_sequence: 9
2025-05-21 16:22:13,886 - db_checker - INFO - Exemplo 1 da tabela sqlite_sequence: {'name': 'usuarios', 'seq': 13}
2025-05-21 16:22:13,886 - db_checker - INFO - Exemplo 2 da tabela sqlite_sequence: {'name': 'admin_logs', 'seq': 185}
2025-05-21 16:22:13,886 - db_checker - INFO - Exemplo 3 da tabela sqlite_sequence: {'name': 'historico', 'seq': 24}
2025-05-21 16:22:13,886 - db_checker - INFO - Verificando estrutura da tabela: historico
2025-05-21 16:22:13,886 - db_checker - INFO - Colunas da tabela historico: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'registro_id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'alterado_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'alteracoes', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'data_alteracao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:13,887 - db_checker - INFO - Total de registros na tabela historico: 24
2025-05-21 16:22:13,887 - db_checker - INFO - Exemplo 1 da tabela historico: {'id': 1, 'registro_id': 8, 'alterado_por': 'Leonardo', 'alteracoes': '{"placa": {"anterior": "KRT4H23", "novo": ""}, "usuario": {"anterior": "comum2", "novo": "Leonardo"}, "motorista": {"anterior": "NILSON DIONISIO GONÇALVES", "novo": ""}, "cpf": {"anterior": "123.456.789-70", "novo": ""}, "tipo_carga": {"anterior": "TÊXTIL", "novo": "CONTÊINER"}, "status_container": {"anterior": "CHEIO", "novo": ""}, "gerenciadora": {"anterior": "GERENCIADORA C", "novo": ""}}', 'data_alteracao': '2025-05-16 10:36:40'}
2025-05-21 16:22:13,888 - db_checker - INFO - Exemplo 2 da tabela historico: {'id': 2, 'registro_id': 35, 'alterado_por': 'Leonardo', 'alteracoes': '{"placa": {"anterior": "JBA0I39", "novo": ""}, "usuario": {"anterior": "comum2", "novo": "Leonardo"}, "motorista": {"anterior": "EDILSON DE JESUS VILLARINHO", "novo": ""}, "cpf": {"anterior": "123.456.789-56", "novo": ""}, "tipo_carga": {"anterior": "QUÍMICOS", "novo": ""}, "status_container": {"anterior": "VAZIO", "novo": ""}, "gerenciadora": {"anterior": "GERENCIADORA C", "novo": ""}}', 'data_alteracao': '2025-05-16 10:40:20'}
2025-05-21 16:22:13,888 - db_checker - INFO - Exemplo 3 da tabela historico: {'id': 3, 'registro_id': 18, 'alterado_por': 'Leonardo', 'alteracoes': '{"placa": {"anterior": "LTI3193", "novo": ""}, "usuario": {"anterior": "gr", "novo": "Leonardo"}, "tipo_carga": {"anterior": "TÊXTIL", "novo": ""}, "status_container": {"anterior": "CHEIO", "novo": ""}, "gerenciadora": {"anterior": "GERENCIADORA C", "novo": ""}}', 'data_alteracao': '2025-05-16 10:40:32'}
2025-05-21 16:22:13,888 - db_checker - INFO - Verificando estrutura da tabela: solicitacoes_senha
2025-05-21 16:22:13,889 - db_checker - INFO - Colunas da tabela solicitacoes_senha: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'data_solicitacao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'status', 'type': 'TEXT', 'notnull': 0, 'default': "'pendente'", 'pk': 0}, {'cid': 4, 'name': 'aprovado_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'data_aprovacao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:13,889 - db_checker - INFO - Total de registros na tabela solicitacoes_senha: 3
2025-05-21 16:22:13,889 - db_checker - INFO - Exemplo 1 da tabela solicitacoes_senha: {'id': 1, 'username': 'GR', 'data_solicitacao': '2025-05-16 16:01:17', 'status': 'rejeitada', 'aprovado_por': None, 'data_aprovacao': None}
2025-05-21 16:22:13,889 - db_checker - INFO - Exemplo 2 da tabela solicitacoes_senha: {'id': 2, 'username': 'teste', 'data_solicitacao': '2025-05-19 14:08:49', 'status': 'aprovada', 'aprovado_por': None, 'data_aprovacao': None}
2025-05-21 16:22:13,889 - db_checker - INFO - Exemplo 3 da tabela solicitacoes_senha: {'id': 3, 'username': 'admin', 'data_solicitacao': '2025-05-21 08:52:15.910632', 'status': 'pendente', 'aprovado_por': None, 'data_aprovacao': None}
2025-05-21 16:22:13,889 - db_checker - INFO - Verificando estrutura da tabela: admin_logs
2025-05-21 16:22:13,890 - db_checker - INFO - Colunas da tabela admin_logs: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'usuario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'acao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'detalhes', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'data', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:13,890 - db_checker - INFO - Total de registros na tabela admin_logs: 185
2025-05-21 16:22:13,890 - db_checker - INFO - Exemplo 1 da tabela admin_logs: {'id': 1, 'usuario': 'gr', 'acao': 'INSERÇÃO DE REGISTRO', 'detalhes': 'ID: 51, Cliente: EMPRESA C, Placa: KZC7621, Status: Concluído', 'data': '2025-05-15 21:41:15'}
2025-05-21 16:22:13,890 - db_checker - INFO - Exemplo 2 da tabela admin_logs: {'id': 2, 'usuario': 'comum2', 'acao': 'INSERÇÃO DE REGISTRO', 'detalhes': 'ID: 52, Cliente: EMPRESA A, Placa: RJN8I29, Status: Pendente', 'data': '2025-05-15 21:41:15'}
2025-05-21 16:22:13,890 - db_checker - INFO - Exemplo 3 da tabela admin_logs: {'id': 3, 'usuario': 'comum2', 'acao': 'INSERÇÃO DE REGISTRO', 'detalhes': 'ID: 53, Cliente: EMPRESA A, Placa: KWY6E98, Status: Em Andamento', 'data': '2025-05-15 21:41:15'}
2025-05-21 16:22:13,891 - db_checker - INFO - Verificando estrutura da tabela: solicitacoes_registro
2025-05-21 16:22:13,891 - db_checker - INFO - Colunas da tabela solicitacoes_registro: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'nome', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'email', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'setor', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'justificativa', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'data_solicitacao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 7, 'name': 'status', 'type': 'TEXT', 'notnull': 0, 'default': "'pendente'", 'pk': 0}, {'cid': 8, 'name': 'processado_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 9, 'name': 'data_processamento', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 10, 'name': 'motivo_rejeicao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:13,891 - db_checker - INFO - Total de registros na tabela solicitacoes_registro: 6
2025-05-21 16:22:13,892 - db_checker - INFO - Exemplo 1 da tabela solicitacoes_registro: {'id': 1, 'nome': 'teste', 'username': 'teste', 'email': 'testes@teste.com', 'setor': 'Comercial', 'justificativa': 'teste', 'data_solicitacao': '2025-05-16 15:40:50', 'status': 'aprovada', 'processado_por': 'Leonardo', 'data_processamento': '2025-05-16 15:56:40', 'motivo_rejeicao': None}
2025-05-21 16:22:13,892 - db_checker - INFO - Exemplo 2 da tabela solicitacoes_registro: {'id': 2, 'nome': 'teste2', 'username': 'teste2', 'email': 'testes@teste.com', 'setor': 'Comercial', 'justificativa': 'teste', 'data_solicitacao': '2025-05-16 15:44:26', 'status': 'aprovada', 'processado_por': 'Leonardo', 'data_processamento': '2025-05-16 15:56:33', 'motivo_rejeicao': None}
2025-05-21 16:22:13,893 - db_checker - INFO - Exemplo 3 da tabela solicitacoes_registro: {'id': 3, 'nome': 'dsadas', 'username': 'dsad', 'email': 'ddsadsa@gmail.com', 'setor': 'Comercial', 'justificativa': 'dsadsa', 'data_solicitacao': '2025-05-16 16:00:22', 'status': 'aprovada', 'processado_por': 'Leonardo', 'data_processamento': '2025-05-16 16:01:39', 'motivo_rejeicao': None}
2025-05-21 16:22:13,893 - db_checker - INFO - Verificando estrutura da tabela: registros
2025-05-21 16:22:13,894 - db_checker - INFO - Colunas da tabela registros: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'usuario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'placa', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'motorista', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'cpf', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'mot_loc', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'carreta', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 7, 'name': 'carreta1', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 8, 'name': 'carreta2', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 9, 'name': 'carreta_loc', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 10, 'name': 'cliente', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 11, 'name': 'loc_cliente', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 12, 'name': 'arquivo', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 13, 'name': 'data_registro', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 14, 'name': 'numero_sm', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 15, 'name': 'numero_ae', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 16, 'name': 'container_1', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 17, 'name': 'container_2', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 18, 'name': 'data_sm', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 19, 'name': 'data_ae', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 20, 'name': 'sla_sm', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 21, 'name': 'sla_ae', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 22, 'name': 'status_sm', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 23, 'name': 'tipo_carga', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 24, 'name': 'status_container', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 25, 'name': 'modalidade', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 26, 'name': 'gerenciadora', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 27, 'name': 'booking_di', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 28, 'name': 'pedido_referencia', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 29, 'name': 'lote_cs', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 30, 'name': 'on_time_cliente', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 31, 'name': 'horario_previsto', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 32, 'name': 'observacao_operacional', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 33, 'name': 'observacao_gr', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 34, 'name': 'destino_intermediario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 35, 'name': 'destino_final', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 36, 'name': 'anexar_nf', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 37, 'name': 'anexar_os', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 38, 'name': 'anexar_agendamento', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 39, 'name': 'numero_nf', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 40, 'name': 'serie', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 41, 'name': 'quantidade', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 42, 'name': 'peso_bruto', 'type': 'REAL', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 43, 'name': 'valor_total_nota', 'type': 'REAL', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 44, 'name': 'excluido', 'type': 'INTEGER', 'notnull': 0, 'default': '0', 'pk': 0}, {'cid': 45, 'name': 'data_exclusao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 46, 'name': 'excluido_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 47, 'name': 'data_modificacao', 'type': 'TIMESTAMP', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 48, 'name': 'unidade', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 49, 'name': 'arquivo_nf_nome', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 50, 'name': 'arquivo_os_nome', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 51, 'name': 'arquivo_agendamento_nome', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 52, 'name': 'alteracoes_verificadas', 'type': 'INTEGER', 'notnull': 0, 'default': '0', 'pk': 0}]
2025-05-21 16:22:13,895 - db_checker - INFO - Total de registros na tabela registros: 0
2025-05-21 16:22:13,895 - db_checker - INFO - Verificando estrutura da tabela: solicitacoes_acesso
2025-05-21 16:22:13,895 - db_checker - INFO - Colunas da tabela solicitacoes_acesso: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'nome', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'email', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'setor', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'justificativa', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'status', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 7, 'name': 'data_solicitacao', 'type': 'TIMESTAMP', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 8, 'name': 'data_processamento', 'type': 'TIMESTAMP', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 9, 'name': 'processado_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 10, 'name': 'observacao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:13,895 - db_checker - INFO - Total de registros na tabela solicitacoes_acesso: 0
2025-05-21 16:22:13,895 - db_checker - INFO - Verificando estrutura da tabela: log_atividades
2025-05-21 16:22:13,895 - db_checker - INFO - Colunas da tabela log_atividades: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'data_hora', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'usuario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'nivel', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'acao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'registro_id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'descricao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:13,895 - db_checker - INFO - Total de registros na tabela log_atividades: 1
2025-05-21 16:22:13,895 - db_checker - INFO - Exemplo 1 da tabela log_atividades: {'id': 1, 'data_hora': '2025-05-21 09:44:12', 'usuario': 'teste_comum', 'nivel': 'comum', 'acao': 'editar_anexo', 'registro_id': 101, 'descricao': 'Anexo de Nota Fiscal atualizado'}
2025-05-21 16:22:13,895 - db_checker - INFO - Verificando estrutura da tabela: sessoes_ativas
2025-05-21 16:22:13,895 - db_checker - INFO - Colunas da tabela sessoes_ativas: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'session_id', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'device_id', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'nivel', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'last_activity', 'type': 'INTEGER', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'created_at', 'type': 'TIMESTAMP', 'notnull': 1, 'default': None, 'pk': 0}]
2025-05-21 16:22:13,898 - db_checker - INFO - Total de registros na tabela sessoes_ativas: 0
2025-05-21 16:22:13,898 - db_checker - INFO - Verificando estrutura da tabela: logs
2025-05-21 16:22:13,898 - db_checker - INFO - Colunas da tabela logs: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'usuario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'acao', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'descricao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'data', 'type': 'TIMESTAMP', 'notnull': 0, 'default': 'CURRENT_TIMESTAMP', 'pk': 0}]
2025-05-21 16:22:13,898 - db_checker - INFO - Total de registros na tabela logs: 1
2025-05-21 16:22:13,900 - db_checker - INFO - Exemplo 1 da tabela logs: {'id': 1, 'usuario': 'admin', 'acao': 'Inicialização', 'descricao': 'Sistema inicializado', 'data': '2025-05-21 15:51:22'}
2025-05-21 16:22:13,900 - db_checker - INFO - Tabela crítica usuarios existe
2025-05-21 16:22:13,900 - db_checker - INFO - Tabela crítica logs existe
2025-05-21 16:22:13,900 - db_checker - INFO - Tabela crítica registros existe
2025-05-21 16:22:13,900 - db_checker - INFO - Tabela crítica solicitacoes_senha existe
2025-05-21 16:22:13,900 - db_checker - INFO - Tabela crítica solicitacoes_registro existe
2025-05-21 16:22:13,900 - db_checker - INFO - Coluna crítica data_modificacao existe na tabela registros
2025-05-21 16:22:13,900 - db_checker - INFO - Coluna crítica alteracoes_verificadas existe na tabela registros
2025-05-21 16:22:13,900 - db_checker - INFO - Verificação do banco de dados concluída com sucesso
2025-05-21 16:22:19,071 - db_checker - INFO - Tentando corrigir problemas no banco de dados: usuarios.db
2025-05-21 16:22:19,073 - db_checker - INFO - Criando tabela logs_admin
2025-05-21 16:22:19,080 - db_checker - INFO - Correções no banco de dados aplicadas com sucesso
2025-05-21 16:22:19,080 - db_checker - INFO - Verificando banco de dados: usuarios.db
2025-05-21 16:22:19,083 - db_checker - INFO - Tabelas encontradas: ['usuarios', 'sqlite_sequence', 'historico', 'solicitacoes_senha', 'admin_logs', 'solicitacoes_registro', 'registros', 'solicitacoes_acesso', 'log_atividades', 'sessoes_ativas', 'logs', 'logs_admin']
2025-05-21 16:22:19,083 - db_checker - INFO - Verificando estrutura da tabela: usuarios
2025-05-21 16:22:19,084 - db_checker - INFO - Colunas da tabela usuarios: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'password_hash', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'nivel', 'type': 'TEXT', 'notnull': 0, 'default': "'comum'", 'pk': 0}, {'cid': 4, 'name': 'email', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'last_login', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'created_at', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 7, 'name': 'senha_temporaria', 'type': 'INTEGER', 'notnull': 0, 'default': '0', 'pk': 0}, {'cid': 8, 'name': 'ultima_alteracao_senha', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:19,085 - db_checker - INFO - Total de registros na tabela usuarios: 8
2025-05-21 16:22:19,085 - db_checker - INFO - Exemplo 1 da tabela usuarios: {'id': 1, 'username': 'admin', 'password_hash': 'pbkdf2:sha256:600000$Mv4xefmkye9Z9yc5$7eaeefb45f65c5182973ad7e7d564a447b3047d835c73babc5f121d43c0753a2', 'nivel': 'admin', 'email': None, 'last_login': None, 'created_at': '2025-05-15 19:18:00', 'senha_temporaria': 0, 'ultima_alteracao_senha': None}
2025-05-21 16:22:19,085 - db_checker - INFO - Exemplo 2 da tabela usuarios: {'id': 2, 'username': 'gr', 'password_hash': 'pbkdf2:sha256:600000$k6rwTqa1n8n80FrH$ecff02829c009a832e7776a97366eca843cc3b8dce03750aefda163d03d076be', 'nivel': 'gr', 'email': None, 'last_login': '2025-05-19 17:51:34', 'created_at': '2025-05-15 19:18:00', 'senha_temporaria': 0, 'ultima_alteracao_senha': None}
2025-05-21 16:22:19,085 - db_checker - INFO - Exemplo 3 da tabela usuarios: {'id': 4, 'username': 'Leonardo', 'password_hash': 'scrypt:32768:8:1$7disBdA1D4cktlZ7$212b6a60bace1f8c5c92668c133a8434864eccb91c07f4e735d201480b27276a1dda39ee4b4a37a51f4f03a7ee91134440b9bec6ecef66254e3b771894c690cb', 'nivel': 'admin', 'email': 'leonardo@example.com', 'last_login': '2025-05-19 17:51:55', 'created_at': '2025-05-15 19:35:45', 'senha_temporaria': 0, 'ultima_alteracao_senha': None}
2025-05-21 16:22:19,085 - db_checker - INFO - Verificando estrutura da tabela: sqlite_sequence
2025-05-21 16:22:19,085 - db_checker - INFO - Colunas da tabela sqlite_sequence: [{'cid': 0, 'name': 'name', 'type': '', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 1, 'name': 'seq', 'type': '', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:19,086 - db_checker - INFO - Total de registros na tabela sqlite_sequence: 9
2025-05-21 16:22:19,086 - db_checker - INFO - Exemplo 1 da tabela sqlite_sequence: {'name': 'usuarios', 'seq': 13}
2025-05-21 16:22:19,086 - db_checker - INFO - Exemplo 2 da tabela sqlite_sequence: {'name': 'admin_logs', 'seq': 185}
2025-05-21 16:22:19,086 - db_checker - INFO - Exemplo 3 da tabela sqlite_sequence: {'name': 'historico', 'seq': 24}
2025-05-21 16:22:19,086 - db_checker - INFO - Verificando estrutura da tabela: historico
2025-05-21 16:22:19,087 - db_checker - INFO - Colunas da tabela historico: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'registro_id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'alterado_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'alteracoes', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'data_alteracao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:19,087 - db_checker - INFO - Total de registros na tabela historico: 24
2025-05-21 16:22:19,087 - db_checker - INFO - Exemplo 1 da tabela historico: {'id': 1, 'registro_id': 8, 'alterado_por': 'Leonardo', 'alteracoes': '{"placa": {"anterior": "KRT4H23", "novo": ""}, "usuario": {"anterior": "comum2", "novo": "Leonardo"}, "motorista": {"anterior": "NILSON DIONISIO GONÇALVES", "novo": ""}, "cpf": {"anterior": "123.456.789-70", "novo": ""}, "tipo_carga": {"anterior": "TÊXTIL", "novo": "CONTÊINER"}, "status_container": {"anterior": "CHEIO", "novo": ""}, "gerenciadora": {"anterior": "GERENCIADORA C", "novo": ""}}', 'data_alteracao': '2025-05-16 10:36:40'}
2025-05-21 16:22:19,087 - db_checker - INFO - Exemplo 2 da tabela historico: {'id': 2, 'registro_id': 35, 'alterado_por': 'Leonardo', 'alteracoes': '{"placa": {"anterior": "JBA0I39", "novo": ""}, "usuario": {"anterior": "comum2", "novo": "Leonardo"}, "motorista": {"anterior": "EDILSON DE JESUS VILLARINHO", "novo": ""}, "cpf": {"anterior": "123.456.789-56", "novo": ""}, "tipo_carga": {"anterior": "QUÍMICOS", "novo": ""}, "status_container": {"anterior": "VAZIO", "novo": ""}, "gerenciadora": {"anterior": "GERENCIADORA C", "novo": ""}}', 'data_alteracao': '2025-05-16 10:40:20'}
2025-05-21 16:22:19,088 - db_checker - INFO - Exemplo 3 da tabela historico: {'id': 3, 'registro_id': 18, 'alterado_por': 'Leonardo', 'alteracoes': '{"placa": {"anterior": "LTI3193", "novo": ""}, "usuario": {"anterior": "gr", "novo": "Leonardo"}, "tipo_carga": {"anterior": "TÊXTIL", "novo": ""}, "status_container": {"anterior": "CHEIO", "novo": ""}, "gerenciadora": {"anterior": "GERENCIADORA C", "novo": ""}}', 'data_alteracao': '2025-05-16 10:40:32'}
2025-05-21 16:22:19,088 - db_checker - INFO - Verificando estrutura da tabela: solicitacoes_senha
2025-05-21 16:22:19,088 - db_checker - INFO - Colunas da tabela solicitacoes_senha: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'data_solicitacao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'status', 'type': 'TEXT', 'notnull': 0, 'default': "'pendente'", 'pk': 0}, {'cid': 4, 'name': 'aprovado_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'data_aprovacao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:19,088 - db_checker - INFO - Total de registros na tabela solicitacoes_senha: 3
2025-05-21 16:22:19,089 - db_checker - INFO - Exemplo 1 da tabela solicitacoes_senha: {'id': 1, 'username': 'GR', 'data_solicitacao': '2025-05-16 16:01:17', 'status': 'rejeitada', 'aprovado_por': None, 'data_aprovacao': None}
2025-05-21 16:22:19,089 - db_checker - INFO - Exemplo 2 da tabela solicitacoes_senha: {'id': 2, 'username': 'teste', 'data_solicitacao': '2025-05-19 14:08:49', 'status': 'aprovada', 'aprovado_por': None, 'data_aprovacao': None}
2025-05-21 16:22:19,089 - db_checker - INFO - Exemplo 3 da tabela solicitacoes_senha: {'id': 3, 'username': 'admin', 'data_solicitacao': '2025-05-21 08:52:15.910632', 'status': 'pendente', 'aprovado_por': None, 'data_aprovacao': None}
2025-05-21 16:22:19,089 - db_checker - INFO - Verificando estrutura da tabela: admin_logs
2025-05-21 16:22:19,089 - db_checker - INFO - Colunas da tabela admin_logs: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'usuario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'acao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'detalhes', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'data', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:19,090 - db_checker - INFO - Total de registros na tabela admin_logs: 185
2025-05-21 16:22:19,090 - db_checker - INFO - Exemplo 1 da tabela admin_logs: {'id': 1, 'usuario': 'gr', 'acao': 'INSERÇÃO DE REGISTRO', 'detalhes': 'ID: 51, Cliente: EMPRESA C, Placa: KZC7621, Status: Concluído', 'data': '2025-05-15 21:41:15'}
2025-05-21 16:22:19,092 - db_checker - INFO - Exemplo 2 da tabela admin_logs: {'id': 2, 'usuario': 'comum2', 'acao': 'INSERÇÃO DE REGISTRO', 'detalhes': 'ID: 52, Cliente: EMPRESA A, Placa: RJN8I29, Status: Pendente', 'data': '2025-05-15 21:41:15'}
2025-05-21 16:22:19,092 - db_checker - INFO - Exemplo 3 da tabela admin_logs: {'id': 3, 'usuario': 'comum2', 'acao': 'INSERÇÃO DE REGISTRO', 'detalhes': 'ID: 53, Cliente: EMPRESA A, Placa: KWY6E98, Status: Em Andamento', 'data': '2025-05-15 21:41:15'}
2025-05-21 16:22:19,092 - db_checker - INFO - Verificando estrutura da tabela: solicitacoes_registro
2025-05-21 16:22:19,093 - db_checker - INFO - Colunas da tabela solicitacoes_registro: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'nome', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'email', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'setor', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'justificativa', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'data_solicitacao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 7, 'name': 'status', 'type': 'TEXT', 'notnull': 0, 'default': "'pendente'", 'pk': 0}, {'cid': 8, 'name': 'processado_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 9, 'name': 'data_processamento', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 10, 'name': 'motivo_rejeicao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:19,093 - db_checker - INFO - Total de registros na tabela solicitacoes_registro: 6
2025-05-21 16:22:19,094 - db_checker - INFO - Exemplo 1 da tabela solicitacoes_registro: {'id': 1, 'nome': 'teste', 'username': 'teste', 'email': 'testes@teste.com', 'setor': 'Comercial', 'justificativa': 'teste', 'data_solicitacao': '2025-05-16 15:40:50', 'status': 'aprovada', 'processado_por': 'Leonardo', 'data_processamento': '2025-05-16 15:56:40', 'motivo_rejeicao': None}
2025-05-21 16:22:19,094 - db_checker - INFO - Exemplo 2 da tabela solicitacoes_registro: {'id': 2, 'nome': 'teste2', 'username': 'teste2', 'email': 'testes@teste.com', 'setor': 'Comercial', 'justificativa': 'teste', 'data_solicitacao': '2025-05-16 15:44:26', 'status': 'aprovada', 'processado_por': 'Leonardo', 'data_processamento': '2025-05-16 15:56:33', 'motivo_rejeicao': None}
2025-05-21 16:22:19,094 - db_checker - INFO - Exemplo 3 da tabela solicitacoes_registro: {'id': 3, 'nome': 'dsadas', 'username': 'dsad', 'email': 'ddsadsa@gmail.com', 'setor': 'Comercial', 'justificativa': 'dsadsa', 'data_solicitacao': '2025-05-16 16:00:22', 'status': 'aprovada', 'processado_por': 'Leonardo', 'data_processamento': '2025-05-16 16:01:39', 'motivo_rejeicao': None}
2025-05-21 16:22:19,094 - db_checker - INFO - Verificando estrutura da tabela: registros
2025-05-21 16:22:19,095 - db_checker - INFO - Colunas da tabela registros: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'usuario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'placa', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'motorista', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'cpf', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'mot_loc', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'carreta', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 7, 'name': 'carreta1', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 8, 'name': 'carreta2', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 9, 'name': 'carreta_loc', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 10, 'name': 'cliente', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 11, 'name': 'loc_cliente', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 12, 'name': 'arquivo', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 13, 'name': 'data_registro', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 14, 'name': 'numero_sm', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 15, 'name': 'numero_ae', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 16, 'name': 'container_1', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 17, 'name': 'container_2', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 18, 'name': 'data_sm', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 19, 'name': 'data_ae', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 20, 'name': 'sla_sm', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 21, 'name': 'sla_ae', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 22, 'name': 'status_sm', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 23, 'name': 'tipo_carga', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 24, 'name': 'status_container', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 25, 'name': 'modalidade', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 26, 'name': 'gerenciadora', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 27, 'name': 'booking_di', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 28, 'name': 'pedido_referencia', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 29, 'name': 'lote_cs', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 30, 'name': 'on_time_cliente', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 31, 'name': 'horario_previsto', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 32, 'name': 'observacao_operacional', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 33, 'name': 'observacao_gr', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 34, 'name': 'destino_intermediario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 35, 'name': 'destino_final', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 36, 'name': 'anexar_nf', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 37, 'name': 'anexar_os', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 38, 'name': 'anexar_agendamento', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 39, 'name': 'numero_nf', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 40, 'name': 'serie', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 41, 'name': 'quantidade', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 42, 'name': 'peso_bruto', 'type': 'REAL', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 43, 'name': 'valor_total_nota', 'type': 'REAL', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 44, 'name': 'excluido', 'type': 'INTEGER', 'notnull': 0, 'default': '0', 'pk': 0}, {'cid': 45, 'name': 'data_exclusao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 46, 'name': 'excluido_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 47, 'name': 'data_modificacao', 'type': 'TIMESTAMP', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 48, 'name': 'unidade', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 49, 'name': 'arquivo_nf_nome', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 50, 'name': 'arquivo_os_nome', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 51, 'name': 'arquivo_agendamento_nome', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 52, 'name': 'alteracoes_verificadas', 'type': 'INTEGER', 'notnull': 0, 'default': '0', 'pk': 0}]
2025-05-21 16:22:19,096 - db_checker - INFO - Total de registros na tabela registros: 0
2025-05-21 16:22:19,096 - db_checker - INFO - Verificando estrutura da tabela: solicitacoes_acesso
2025-05-21 16:22:19,096 - db_checker - INFO - Colunas da tabela solicitacoes_acesso: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'nome', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'email', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'setor', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'justificativa', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'status', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 7, 'name': 'data_solicitacao', 'type': 'TIMESTAMP', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 8, 'name': 'data_processamento', 'type': 'TIMESTAMP', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 9, 'name': 'processado_por', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 10, 'name': 'observacao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:19,096 - db_checker - INFO - Total de registros na tabela solicitacoes_acesso: 0
2025-05-21 16:22:19,097 - db_checker - INFO - Verificando estrutura da tabela: log_atividades
2025-05-21 16:22:19,097 - db_checker - INFO - Colunas da tabela log_atividades: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'data_hora', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'usuario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'nivel', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'acao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'registro_id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'descricao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}]
2025-05-21 16:22:19,097 - db_checker - INFO - Total de registros na tabela log_atividades: 1
2025-05-21 16:22:19,098 - db_checker - INFO - Exemplo 1 da tabela log_atividades: {'id': 1, 'data_hora': '2025-05-21 09:44:12', 'usuario': 'teste_comum', 'nivel': 'comum', 'acao': 'editar_anexo', 'registro_id': 101, 'descricao': 'Anexo de Nota Fiscal atualizado'}
2025-05-21 16:22:19,099 - db_checker - INFO - Verificando estrutura da tabela: sessoes_ativas
2025-05-21 16:22:19,099 - db_checker - INFO - Colunas da tabela sessoes_ativas: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'session_id', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'username', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'device_id', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'nivel', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 5, 'name': 'last_activity', 'type': 'INTEGER', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 6, 'name': 'created_at', 'type': 'TIMESTAMP', 'notnull': 1, 'default': None, 'pk': 0}]
2025-05-21 16:22:19,100 - db_checker - INFO - Total de registros na tabela sessoes_ativas: 0
2025-05-21 16:22:19,100 - db_checker - INFO - Verificando estrutura da tabela: logs
2025-05-21 16:22:19,100 - db_checker - INFO - Colunas da tabela logs: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'usuario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'acao', 'type': 'TEXT', 'notnull': 1, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'descricao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'data', 'type': 'TIMESTAMP', 'notnull': 0, 'default': 'CURRENT_TIMESTAMP', 'pk': 0}]
2025-05-21 16:22:19,100 - db_checker - INFO - Total de registros na tabela logs: 1
2025-05-21 16:22:19,101 - db_checker - INFO - Exemplo 1 da tabela logs: {'id': 1, 'usuario': 'admin', 'acao': 'Inicialização', 'descricao': 'Sistema inicializado', 'data': '2025-05-21 15:51:22'}
2025-05-21 16:22:19,101 - db_checker - INFO - Verificando estrutura da tabela: logs_admin
2025-05-21 16:22:19,102 - db_checker - INFO - Colunas da tabela logs_admin: [{'cid': 0, 'name': 'id', 'type': 'INTEGER', 'notnull': 0, 'default': None, 'pk': 1}, {'cid': 1, 'name': 'usuario', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 2, 'name': 'acao', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 3, 'name': 'detalhes', 'type': 'TEXT', 'notnull': 0, 'default': None, 'pk': 0}, {'cid': 4, 'name': 'data_log', 'type': 'TIMESTAMP', 'notnull': 0, 'default': 'CURRENT_TIMESTAMP', 'pk': 0}]
2025-05-21 16:22:19,102 - db_checker - INFO - Total de registros na tabela logs_admin: 0
2025-05-21 16:22:19,103 - db_checker - INFO - Tabela crítica usuarios existe
2025-05-21 16:22:19,103 - db_checker - INFO - Tabela crítica logs existe
2025-05-21 16:22:19,103 - db_checker - INFO - Tabela crítica registros existe
2025-05-21 16:22:19,103 - db_checker - INFO - Tabela crítica solicitacoes_senha existe
2025-05-21 16:22:19,103 - db_checker - INFO - Tabela crítica solicitacoes_registro existe
2025-05-21 16:22:19,104 - db_checker - INFO - Coluna crítica data_modificacao existe na tabela registros
2025-05-21 16:22:19,104 - db_checker - INFO - Coluna crítica alteracoes_verificadas existe na tabela registros
2025-05-21 16:22:19,104 - db_checker - INFO - Verificação do banco de dados concluída com sucesso
